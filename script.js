function getQueryParams(qs) {
    qs = qs.split('+').join(' ');

    var params = {},
        tokens,
        re = /[?&]?([^=]+)=([^&]*)/g;

    while (tokens = re.exec(qs)) {
        params[decodeURIComponent(tokens[1])] = decodeURIComponent(tokens[2]);
    }

    return params;
}
function getError() {
   var err = document.getElementById("errorBox");
   var params = getQueryParams(document.location.search);
   switch (params.e) {
      case "1":
         err.innerHTML = "File already exists.";
         break;
      case "2":
         err.innerHTML = "File too large.";
         break;
      case "3":
         err.innerHTML = "Incorrect file type.";
         break;
      default:
         err.innerHTML = "Unknown error.";
   }
}

function fillFileName() {
   var filenameLink = document.getElementById("filename");
   var params = getQueryParams(document.location.search);
   filenameLink.innerHTML = params.f;
   filenameLink.setAttribute("href", "../img/" + params.f);
}
